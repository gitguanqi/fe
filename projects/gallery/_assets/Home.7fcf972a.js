let a=document.createElement("style");a.innerHTML='@charset "UTF-8";.imgs-nav[data-v-31342ec4]{width:100%;height:60px;background-color:#333;box-shadow:0 0 20px rgba(0,0,0,.8);transition:.5s}.imgs-nav.fixed[data-v-31342ec4]{position:fixed;top:0;left:0;width:100%}.imgs-nav .imgs-nav-inner[data-v-31342ec4]{display:flex;justify-content:space-between;align-items:center;margin:0 auto;width:1200px;height:100%}.imgs-nav .imgs-nav-inner .img-nav-logo[data-v-31342ec4]{margin-right:50px;display:flex;justify-content:flex-start;align-items:center;width:260px}.imgs-nav .imgs-nav-inner .img-nav-logo a[data-v-31342ec4]{display:block;width:169px;height:33px;text-decoration:none;color:#000;cursor:pointer}.imgs-nav .imgs-nav-inner .img-nav-logo span[data-v-31342ec4]{margin-left:30px;display:block;width:auto;font-size:16px;color:#fff;cursor:pointer}.imgs-nav .imgs-nav-inner .img-nav-search[data-v-31342ec4]{position:relative;display:flex;align-items:center;width:200px;height:33px}.imgs-nav .imgs-nav-inner .img-nav-search input[data-v-31342ec4]{box-sizing:border-box;padding:5px 10px;width:100%;height:26px;line-height:26px;outline:0;background:#fff;border:none;border-radius:3px}.imgs-nav .imgs-nav-inner .img-nav-search input[data-v-31342ec4]:hover{box-shadow:0 0 5px #fff}.imgs-nav .imgs-nav-inner .img-nav-search i[data-v-31342ec4]{position:absolute;right:10px;top:0;display:block;font-size:16px;margin-top:8px;cursor:pointer}.img-nav-search-m[data-v-31342ec4]{display:none}.imgs-nav-list[data-v-31342ec4]{margin:30px auto 10px;padding:20px;display:flex;flex-flow:row wrap;justify-content:flex-start;box-sizing:border-box;align-items:center;max-width:1200px;width:100%;background:#fff;border-bottom:1px solid #ccc;box-shadow:0 0 5px #ccc}.imgs-nav-list .imgs-nav-item[data-v-31342ec4]{margin-bottom:10px;margin-right:10px;display:flex;justify-content:center;align-items:center;width:80px;height:35px}.imgs-nav-list .imgs-nav-item span[data-v-31342ec4]{position:relative;box-sizing:border-box;display:inline-block;width:100%;line-height:35px;text-decoration:none;text-align:center;color:#333;border-radius:2px;font-size:16px;cursor:pointer;overflow:hidden}.imgs-nav-list .imgs-nav-item span.link-active[data-v-31342ec4],.imgs-nav-list .imgs-nav-item span[data-v-31342ec4]:hover{background:#d32d2d;color:#fff!important}.gotop[data-v-31342ec4]{position:fixed;right:-65px;bottom:80px;width:50px;height:50px;overflow:hidden;cursor:pointer;border-radius:50%;transition:.5s;z-index:99}.gotop img[data-v-31342ec4]{display:inline-block;width:100%;height:100%}.gotop.fixed[data-v-31342ec4]{right:5px}@media all and (max-width:1024px) and (min-width:769px){.imgs-nav-inner[data-v-31342ec4]{width:95%}.imgs-nav-inner .img-nav-logo[data-v-31342ec4]{width:100px}.imgs-nav-item a[data-v-31342ec4]{padding:0 18px}.imgs-box[data-v-31342ec4]{width:95%}.imgs-box .imgs-list li[data-v-31342ec4]{width:304px}.imgs-box .imgs-list li p[data-v-31342ec4]{height:158px}.imgs-page[data-v-31342ec4],.loading-no[data-v-31342ec4]{width:95%}}@media all and (max-width:750px) and (min-width:319px){.imgs-nav[data-v-31342ec4]{position:fixed;top:0;left:0;width:100%;height:4rem;background:#fff;z-index:2}.imgs-nav .imgs-nav-inner[data-v-31342ec4]{width:100%;height:4rem;flex-direction:column;justify-content:flex-start;align-items:center;z-index:2}.imgs-nav .imgs-nav-inner .img-nav-logo[data-v-31342ec4]{margin-right:0;justify-content:center;width:100%;height:4rem;background-color:#333}.imgs-nav .imgs-nav-inner .img-nav-logo span[data-v-31342ec4],.imgs-nav .imgs-nav-inner .img-nav-search[data-v-31342ec4]{display:none}.img-nav-search-m[data-v-31342ec4]{position:relative;display:block;box-sizing:border-box;margin:6rem auto 1rem;width:95%;height:50px}.img-nav-search-m input[data-v-31342ec4]{box-sizing:border-box;padding:.5rem;width:100%;outline:0;height:2.5rem;border:1px solid #ccc}.img-nav-search-m input[data-v-31342ec4]:hover{box-shadow:0 0 5px #ccc}.img-nav-search-m i[data-v-31342ec4]{position:absolute;top:50%;margin-top:-10px;display:block;width:18px;height:18px;right:10px;color:#d32d2d}.imgs-nav-list[data-v-31342ec4]{justify-content:space-between;margin:1rem auto;padding:.625rem .325rem;width:95%}.imgs-nav-list .imgs-nav-item[data-v-31342ec4]{flex:none;width:4rem;height:2.5rem;line-height:2.5rem}.imgs-nav-list .imgs-nav-item a[data-v-31342ec4]{padding:0 .625rem;font-size:1rem;color:#333;border-radius:4px}.imgs-nav-list .imgs-nav-item a[data-v-31342ec4]::after{display:none}.imgs-nav-list .imgs-nav-item a.link-active[data-v-31342ec4]{background:#d32d2d;color:#fff!important}.imgs-nav-list .imgs-nav-item[data-v-31342ec4]:first-child{padding-right:.325rem;text-align:left}}.pics-main[data-v-3262edba]{height:auto}main[data-v-3262edba]{box-sizing:border-box;padding:20px 0;width:100%;height:calc(100% - 120px);overflow-x:hidden;overflow-y:auto}main .imgs-box[data-v-3262edba]{box-sizing:border-box;margin:0 auto;width:1200px;height:auto}main .imgs-box .imgs-list[data-v-3262edba]{margin:0 auto;width:100%;height:auto}main .imgs-box .imgs-list li[data-v-3262edba]{float:left;box-sizing:border-box;margin-right:20px;margin-bottom:20px;width:386px;height:auto;border:2px solid #eee;overflow:hidden;text-align:center;cursor:pointer}main .imgs-box .imgs-list li h3[data-v-3262edba]{display:flex;justify-content:center;align-items:center;box-sizing:border-box;padding:0 10px;width:100%;height:50px;line-height:1.5;text-overflow:ellipsis;overflow:hidden;font-size:16px;color:#333;text-align:center}main .imgs-box .imgs-list li p[data-v-3262edba]{width:100%;height:192px;background:#b9b9b9;overflow:hidden}main .imgs-box .imgs-list li p img[data-v-3262edba]{display:inline-block;width:100%;height:auto}main .imgs-box .imgs-list li[data-v-3262edba]:nth-child(3n){margin-right:0}main .imgs-box .imgs-list li[data-v-3262edba]:hover{border:1px solid #ccc;box-shadow:0 0 10px #ccc}main .loading-has[data-v-3262edba]{width:100%;height:auto}.no-data[data-v-3262edba]{display:flex;justify-content:center;padding-top:30px;padding-bottom:50px}.no-data p[data-v-3262edba]{font-size:14px;text-align:center}.imgs-page[data-v-3262edba]{margin:0 auto 30px;width:1200px;text-align:center}.imgs-page a[data-v-3262edba]{margin:5px 3px;display:inline-block;width:45px;height:30px;line-height:30px;border:1px solid #e3e3e3;text-align:center;text-decoration:none;color:#333;font-size:14px;border-radius:3px;cursor:pointer}.imgs-page a[data-v-3262edba]:hover{background-color:#d32d2d;color:#fff;border:1px solid #d32d2d}.imgs-page a.default-link[data-v-3262edba]{width:50px}.imgs-page a.page-link-active[data-v-3262edba]{background-color:#d32d2d;color:#fff}.imgs-page .imgs-page-more button[data-v-3262edba]{padding:5px 10px;background:#e3e3e3;border:1px solid #f8f8f8;border-radius:5px;cursor:pointer}.imgs-page .imgs-page-more button i[data-v-3262edba]{margin-right:5px}.imgs-page .imgs-page-more button[data-v-3262edba]:hover{background-color:#d32d2d;color:#fff}.imgs-page .imgs-page-more button.no[data-v-3262edba]{background:#f8f8f8;color:#666}.imgs-page .imgs-page-more button.no[data-v-3262edba]:hover{background:#f8f8f8;color:#666;cursor:default}.imgs-page .imgs-page-more.nodata button[data-v-3262edba]{position:relative;background:0 0;border:none;color:#666;cursor:unset}.imgs-page .imgs-page-more.nodata button[data-v-3262edba]::after,.imgs-page .imgs-page-more.nodata button[data-v-3262edba]::before{content:"";position:absolute;top:50%;margin-top:-.5px;display:inline-block;width:80px;height:1px;background:#888}.imgs-page .imgs-page-more.nodata button[data-v-3262edba]::before{left:-80px}.imgs-page .imgs-page-more.nodata button[data-v-3262edba]::after{right:-80px}.imgs-page .imgs-page-scroll[data-v-3262edba]{padding:20px 0}.page-switch[data-v-3262edba]{position:fixed;right:15px;bottom:20px;width:35px;height:35px}.page-switch button[data-v-3262edba]{display:block;width:100%;height:100%;background:#ccc;text-align:center;border:none;outline:0;color:#fff;font-size:16px;border-radius:10px;transition:.5s;cursor:pointer}.page-switch button[data-v-3262edba]:hover{background:#d32d2d;color:#fff}.loading-no[data-v-3262edba]{box-sizing:border-box;margin:0 auto;padding:0;width:100%;height:calc(100vh - 256px)}.loading-box[data-v-3262edba]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.loading-box span[data-v-3262edba]{display:inline-block;width:50px;height:50px;border-radius:50%;border:5px solid rgba(0,0,0,.1);border-left-color:#d32d2d;animation:1.2s linear infinite donut-spin-3262edba}@keyframes donut-spin-3262edba{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@media all and (max-width:750px) and (min-width:319px){.loading-no[data-v-3262edba]{height:calc(100vh - 280px)}main[data-v-3262edba]{padding:30px 10px;height:calc(100% - 280px)}.imgs-page[data-v-3262edba],main .imgs-box .imgs-list li[data-v-3262edba],main .imgs-box[data-v-3262edba]{width:100%}}',document.head.appendChild(a);import{c as e,a as i,w as t,v as o,n,F as s,r as d,o as g,t as l,p as r,d as c,e as p,f as m,g as h,h as v,i as x,j as b}from"./index.43226d6f.js";import{_ as u,s as f}from"./footer.4e1f275b.js";import w from"./index.6aa6e68d.js";var k={name:"vheader",data:()=>({site:1,currentId:"",navList:[],showNavScroll:!1,showGoTop:!1,search:""}),watch:{"$route.query.tag":function(a){this.currentId=a||""}},mounted(){let a=location.hostname;this.host=-1==a.indexOf("localhost")?this.onlineHost:this.localHost,this.$apis.getPublicToken();let e=localStorage.getItem("navs");e?this.navList=JSON.parse(e):this.getNavList(),this.currentId=this.$route.query.tag||"",window.addEventListener("scroll",this.handlePage,!1)},methods:{async getNavList(){let a=await this.$http.get(`${this.$apis.nav}?site_id=${this.site}&page=1`);if(200===a.data.code){let e=a.data.data.list,i=[];for(let a=0;a<e.length;a++)i.push(e[a]);this.navList=i,localStorage.setItem("navs",JSON.stringify(i))}},handlePage(){document.documentElement.scrollTop>=60?(this.showNavScroll=!0,this.showGoTop=!0):(this.showNavScroll=!1,this.showGoTop=!1)},goTop(){document.documentElement.scrollTop=document.body.scrollTop=0},goHome(){this.$router.push("/welcome")},getList(a,e){let i={q:this.search,tag:this.currentId};"search"==a?i.q=this.search:"nav"==a&&(this.currentId=e,i.tag=this.currentId),this.$router.push({path:"/index",query:i})}}};const y=a=>(r("data-v-31342ec4"),a=a(),c(),a),I={class:"pics-header"},L={class:"imgs-nav-inner"},M={class:"img-nav-logo"},z=[y((()=>i("img",{src:u,alt:""},null,-1)))],$={class:"img-nav-search"},P={class:"img-nav-search-m"},C={class:"imgs-nav-list"},T={class:"imgs-nav-item"},j=["onClick"],S=[y((()=>i("img",{src:"/projects/gallery/img/backtop.svg",alt:""},null,-1)))];k.render=function(a,r,c,p,m,h){return g(),e("div",I,[i("div",{class:n({"imgs-nav":!0,fixed:m.showNavScroll})},[i("div",L,[i("div",M,[i("a",{onClick:r[0]||(r[0]=(...a)=>h.goHome&&h.goHome(...a))},z),i("span",{onClick:r[1]||(r[1]=(...a)=>h.goHome&&h.goHome(...a))},"首页")]),i("div",$,[t(i("input",{type:"text",placeholder:"请输入内容吧~",onChange:r[2]||(r[2]=a=>h.getList("search")),"onUpdate:modelValue":r[3]||(r[3]=a=>m.search=a),maxlength:"20"},null,544),[[o,m.search]]),i("i",{class:"fa fa-search",onClick:r[4]||(r[4]=a=>h.getList("search"))})])])],2),i("div",P,[t(i("input",{type:"text",placeholder:"请输入内容吧~",onChange:r[5]||(r[5]=a=>h.getList("search")),"onUpdate:modelValue":r[6]||(r[6]=a=>m.search=a),maxlength:"20"},null,544),[[o,m.search]]),i("i",{class:"fa fa-search",onClick:r[7]||(r[7]=a=>h.getList("search"))})]),i("ul",C,[i("li",T,[i("span",{class:n({"link-active":""==m.currentId}),onClick:r[8]||(r[8]=a=>h.getList("nav",""))},"全部",2)]),(g(!0),e(s,null,d(m.navList,(a=>(g(),e("li",{class:"imgs-nav-item",key:a.id},[i("span",{class:n({"link-active":m.currentId==a.id}),onClick:e=>h.getList("nav",a.id)},l(a.name),11,j)])))),128))]),i("div",{class:n({gotop:!0,fixed:m.showGoTop}),onClick:r[9]||(r[9]=(...a)=>h.goTop&&h.goTop(...a))},S,2)])},k.__scopeId="data-v-31342ec4";var q={name:"Index",data:()=>({loading:!0,loadTimer:null,imgList:[],currentId:"",pageInfo:{page:1,size:15,name:""},site:1,allPage:0,pageMode:1}),watch:{"$route.query":function(a){this.pageInfo.name=a.q,this.currentId=a.tag,this.pageInfo.page=1,this.allPage=0,this.imgList=[],this.getImgs()}},mounted(){this.currentId=this.$route.query.tag,this.pageInfo.name=this.$route.query.q||"";let a=window.localStorage.getItem("mode");a||(a=1,window.localStorage.setItem("mode",1)),this.pageMode=a,3==this.pageMode?this.scrollMore():window.onscroll=null,this.getImgs()},methods:{checkPageLoad(){let a=this;a.loadTimer=setInterval((()=>{"complete"===document.readyState&&(a.loadLight(),clearInterval(a.loadTimer))}),1e3)},scrollMore(){window.addEventListener("scroll",this.scrollMoreSet,!1)},async getImgs(){this.loading=!0;let a="";for(const e in this.pageInfo)this.pageInfo[e]&&(a+=e+"="+this.pageInfo[e]+"&");a=a.slice(0,a.length-1);let e=`${this.$apis.item}?${a}&site_id=${this.site}&nav_id=${this.currentId}`;try{let a=await this.$http.get(e);if(200===a.data.code){let e=localStorage.getItem("token"),i=a.data.data.list;for(const a of i)a.url=`${a.url}?token=${e}`;1==this.pageMode?(this.imgList=[],this.imgList=i):this.imgList.length&&this.pageInfo.page>1?this.imgList=this.imgList.concat(i):(this.imgList=[],this.imgList=i),this.allPage=a.data.data.page,this.loading=!1,this.checkPageLoad()}else this.imgList=[],this.loading=!1}catch(a){this.imgList=[],this.loading=!1}},loadLight(){new XqLightBox({imgCls:".imgs-list"})},changePage(a,e){this.currentId=a,this.pageInfo.page=e,this.getImgs()},getMore(){this.pageInfo.page<this.allPage&&(this.pageInfo.page+=1,this.getImgs())},scrollMoreSet(){let a=document.documentElement.scrollTop,e=document.documentElement.scrollHeight;a+document.documentElement.clientHeight>=e&&this.pageInfo.page<this.allPage&&(this.pageInfo.page+=1,this.getImgs())},toggleMode(a){let e=1==a?"分页加载":2==a?"按钮加载":"滚动加载";window.localStorage.setItem("mode",a),this.$apis.msg(`即将切换至${e}！`),setTimeout((()=>{window.location.reload()}),1e3)}}};const H=a=>(r("data-v-3262edba"),a=a(),c(),a),E={class:"imgs-box"},N={key:0,class:"imgs-list clearFix"},_=["src","alt"],U={key:1,class:"imgs-list no-data"},F=[H((()=>i("p",null,[i("img",{src:"/projects/gallery/img/no.png",alt:"暂无图片"})],-1)))],G={class:"imgs-page"},O={class:"imgs-page-more"},J=[H((()=>i("i",{class:"fa fa-chevron-circle-down"},null,-1))),v("加载更多")],V={class:"no",disabled:""},A=[H((()=>i("i",{class:"fa fa-sticky-note"},null,-1))),v("没有了")],B={class:"imgs-page-more nodata"},D={disabled:""},X={class:"imgs-page-scroll"},K=[H((()=>i("div",{class:"loading-box"},[i("span")],-1)))],Q={key:0,class:"loading-no"},R=[H((()=>i("div",{class:"loading-box"},[i("span")],-1)))],W={class:"page-switch"},Y=[H((()=>i("i",{class:"fa fa-file"},null,-1)))],Z=[H((()=>i("i",{class:"fa fa-chevron-circle-down"},null,-1)))],aa=[H((()=>i("i",{class:"fa fa-circle-notch"},null,-1)))];q.render=function(a,o,n,r,c,v){return g(),e("main",null,[i("div",E,[(!c.loading&&1==c.pageMode||1!=c.pageMode)&&c.imgList.length?(g(),e("ul",N,[(g(!0),e(s,null,d(c.imgList,(a=>(g(),e("li",{class:"imgs-list-item",key:a.id},[i("p",null,[i("img",{src:a.url,alt:a.name},null,8,_)]),i("h3",null,l(a.name),1)])))),128))])):p("",!0),c.loading||0!=c.imgList.length?p("",!0):(g(),e("ul",U,F)),t(i("div",G,[t(i("div",null,[i("a",{class:"default-link",onClick:o[0]||(o[0]=h((a=>v.changePage(c.currentId,1!=c.pageInfo.page?c.pageInfo.page-1:1)),["prevent"]))},"上一页"),i("a",{class:"default-link",onClick:o[1]||(o[1]=h((a=>v.changePage(c.currentId,c.pageInfo.page!==c.allPage?c.pageInfo.page+1:c.allPage)),["prevent"]))},"下一页")],512),[[m,!c.loading&&1==c.pageMode]]),t(i("div",O,[t(i("button",{onClick:o[2]||(o[2]=(...a)=>v.getMore&&v.getMore(...a))},J,512),[[m,!c.loading&&c.pageInfo.page<c.allPage]]),t(i("button",V,A,512),[[m,!c.loading&&c.pageInfo.page===c.allPage]])],512),[[m,2==c.pageMode]]),t(i("div",B,[t(i("button",D,"END",512),[[m,!c.loading&&c.pageInfo.page===c.allPage]])],512),[[m,3==c.pageMode]]),t(i("div",X,K,512),[[m,c.loading&&1!=c.pageMode&&c.pageInfo.page<=c.allPage]])],512),[[m,c.allPage>1&&c.imgList.length]])]),c.loading&&1==c.pageMode?(g(),e("div",Q,R)):p("",!0),i("div",W,[t(i("button",{title:"切换到分页加载",onClick:o[3]||(o[3]=a=>v.toggleMode(1))},Y,512),[[m,2==c.pageMode]]),t(i("button",{onClick:o[4]||(o[4]=a=>v.toggleMode(2)),title:"切换到按钮加载"},Z,512),[[m,3==c.pageMode]]),t(i("button",{onClick:o[5]||(o[5]=a=>v.toggleMode(3)),title:"切换到滚动加载"},aa,512),[[m,1==c.pageMode]])])])},q.__scopeId="data-v-3262edba";var ea={name:"App",components:{vHeader:k,vFooter:f,vMain:q,vIndex:w},data:()=>({showIndex:!0,keywords:"",params:{}}),methods:{async getImgs(a){this.params=a}}};const ia={class:"pics"};ea.render=function(a,i,t,o,n,s){const d=x("v-header"),l=x("v-main"),r=x("v-footer");return g(),e("div",ia,[b(d,{onUpImgList:s.getImgs},null,8,["onUpImgList"]),b(l),b(r)])};export{ea as default};
